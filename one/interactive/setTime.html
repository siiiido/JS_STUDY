<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      .btn {
        font-size: 2rem;
      }
    </style>
  </head>
  <body>
    <button class="btn">취소</button>
    <script>
      //   let timeId;
      //   const btn = document.querySelector(".btn");

      //   function sample() {
      //     console.log("sample");
      //   }
      //   timeId = setTimeout(sample, 3000);

      //   btn.addEventListener("click", function () {
      //     clearTimeout(timeId);
      //   });

      // 1000s후에 hii를 실행한다, 즉 1초 후에 hii 실행
      //   setTimeout(function () {
      //     console.log("hii");
      //   }, 1000);

      //  setInterval :  3000마다 sample()이라는 함수를 반복한다
      //   timeId = setInterval(sample, 3000);

      //   btn.addEventListener("click", function () {
      //     clearInterval(timeId);
      //   });

      // =================requestAnimationFrame===============
      // let timeId;
      // const btn = document.querySelector('.btn');
      // let  n = 0;

      // // recursive해서 계속 실행되는 것
      // function sample(){
      //     n++;
      //     console.log(n);
      //     if(n>200){
      //         return;
      //     }

      //    timeId =  requestAnimationFrame(sample);
      // }

      // sample();

      // btn.addEventListener('click',function(){
      //     cancelAnimationFrame(timeId);
      // });

      const btn = document.querySelector(".btn");
      let timeId;
      let n = 0;

      function sample() {
        n++;
        console.log(n);
        if (n > 200) {
          return;
        }
        timeId = requestAnimationFrame(sample);
      }

      sample();

      btn.addEventListener("click", function () {
        cancelAnimationFrame(timeId);
      });
    </script>
  </body>
</html>
